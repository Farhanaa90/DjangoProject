<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share4Care</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <nav class="bg-blue-600 text-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="{% url 'home' %}" class="text-2xl font-bold">Share4Care</a>

            <div class="flex items-center space-x-6">
                <div class="relative">
                    <button id="aboutBtn" class="hover:text-gray-200 transition flex items-center">
                        About Us
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="aboutDropdown" class="hidden absolute -left-32 mt-2 w-96 bg-white text-gray-800 rounded-lg shadow-xl p-6 z-50 max-h-96 overflow-y-auto">
                        <h3 class="text-lg font-bold mb-3 text-blue-800">About Share4Care</h3>
                        <p class="text-sm text-gray-600 mb-4">
                            Share4Care connects generous donors with those in need.
                            We believe in the power of community and sharing essentials like food, clothing, and furniture.
                        </p>
                        <h4 class="font-bold text-gray-800 mb-3">Our Team</h4>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                <img src="{% static 'admin_pics/admin1.jpg' %}" alt="Admin 1"
                                     class="w-12 h-12 rounded-full object-cover border-2 border-blue-600 flex-shrink-0">
                                <p class="text-sm font-semibold">Redwan Ahmed</p>
                            </div>
                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                <img src="{% static 'admin_pics/admin2.jpg' %}" alt="Admin 2"
                                     class="w-12 h-12 rounded-full object-cover border-2 border-green-600 flex-shrink-0">
                                <p class="text-sm font-semibold">Farhana Chowdhury</p>
                            </div>
                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                <img src="{% static 'admin_pics/admin3.jpg' %}" alt="Admin 3"
                                     class="w-12 h-12 rounded-full object-cover border-2 border-purple-600 flex-shrink-0">
                                <p class="text-sm font-semibold">Admin Name 3</p>
                            </div>
                            <div class="flex items-center space-x-3 p-2 bg-gray-50 rounded-lg">
                                <img src="{% static 'admin_pics/admin4.jpg' %}" alt="Admin 4"
                                     class="w-12 h-12 rounded-full object-cover border-2 border-red-600 flex-shrink-0">
                                <p class="text-sm font-semibold">Admin Name 4</p>
                            </div>
                        </div>
                    </div>
                </div>

                <a href="{% url 'home' %}" class="hover:text-gray-200 transition">Home</a>

                {% if user.is_authenticated %}
                    <div class="relative">
                        <button id="userDropdown" class="flex items-center space-x-2 hover:text-gray-200 transition">
                            <span>{{ user.username }}</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>

                        <div id="dropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white text-gray-800 rounded-lg shadow-lg">
                            <a href="{% url 'profile' %}" class="block px-4 py-2 hover:bg-gray-100 rounded-t-lg">View Profile</a>
                            <a href="{% url 'edit_profile' %}" class="block px-4 py-2 hover:bg-gray-100">Edit Profile</a>
                            <a href="{% url 'change_password' %}" class="block px-4 py-2 hover:bg-gray-100">Change Password</a>
                            <hr class="border-gray-200">
                            <a href="{% url 'logout' %}" class="block px-4 py-2 text-red-600 hover:bg-gray-100 rounded-b-lg">Logout</a>
                        </div>
                    </div>
                {% else %}
                    <a href="{% url 'register' %}" class="bg-white text-blue-600 hover:bg-gray-100 px-4 py-2 rounded transition">Sign Up</a>
                {% endif %}
            </div>
        </div>
    </nav>

    {% if messages %}
        <div class="container mx-auto px-4 mt-4">
            {% for message in messages %}
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-2">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}


    <main>
        {% block content %}
        {% endblock %}
    </main>

    <footer class="bg-gray-800 text-white text-center py-6 mt-20">
        <p>&copy; 2025 Share4Care. All rights reserved.</p>
    </footer>

    <script>
        const aboutBtn = document.getElementById('aboutBtn');
        const aboutDropdown = document.getElementById('aboutDropdown');

        if(aboutBtn) {
            aboutBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                aboutDropdown.classList.toggle('hidden');
                const userMenu = document.getElementById('dropdownMenu');
                if(userMenu) userMenu.classList.add('hidden');
            });
        }
        const dropdownBtn = document.getElementById('userDropdown');
        const dropdownMenu = document.getElementById('dropdownMenu');

        if(dropdownBtn) {
            dropdownBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdownMenu.classList.toggle('hidden');
                if(aboutDropdown) aboutDropdown.classList.add('hidden');
            });
        }

        document.addEventListener('click', (e) => {
            if(aboutDropdown && aboutBtn && !aboutBtn.contains(e.target) && !aboutDropdown.contains(e.target)) {
                aboutDropdown.classList.add('hidden');
            }
            if(dropdownMenu && dropdownBtn && !dropdownBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
                dropdownMenu.classList.add('hidden');
            }
        });
    </script>

</body>
</html>